{
  "properties": {
    "activities": [
      {
        "type": "ExecutePipeline",
        "typeProperties": {
          "pipeline": {
            "referenceName": "fcd09626-277d-830b-457c-e499b0ac15ea",
            "type": "PipelineReference"
          },
          "parameters": {
            "fromDateDayAgo": {
              "value": "@pipeline().parameters.activity_days_in_scope",
              "type": "Expression"
            },
            "display_data": {
              "value": "@pipeline().parameters.display_data",
              "type": "Expression"
            }
          },
          "waitOnCompletion": true
        },
        "policy": {
          "secureInput": false
        },
        "name": "Load_Activities",
        "dependsOn": [
          {
            "activity": "Load_Inventory",
            "dependencyConditions": [
              "Completed"
            ]
          }
        ]
      },
      {
        "type": "ExecutePipeline",
        "typeProperties": {
          "pipeline": {
            "referenceName": "128425a3-b884-920e-4d68-93c251f66691",
            "type": "PipelineReference"
          },
          "parameters": {
            "display_data": {
              "value": "@pipeline().parameters.display_data",
              "type": "Expression"
            }
          },
          "waitOnCompletion": true
        },
        "policy": {
          "secureInput": false
        },
        "name": "Load_Workspaces",
        "dependsOn": []
      },
      {
        "type": "ExecutePipeline",
        "typeProperties": {
          "pipeline": {
            "referenceName": "888c2a9e-1be6-85ec-4309-955aa4fc9758",
            "type": "PipelineReference"
          },
          "parameters": {
            "display_data": {
              "value": "@pipeline().parameters.display_data",
              "type": "Expression"
            }
          },
          "waitOnCompletion": true
        },
        "policy": {
          "secureInput": false
        },
        "name": "Load_Capacities",
        "description": "Load Capacities",
        "dependsOn": []
      },
      {
        "type": "ExecutePipeline",
        "typeProperties": {
          "pipeline": {
            "referenceName": "1e6a1a8b-794f-8703-4121-f96543353fad",
            "type": "PipelineReference"
          },
          "parameters": {
            "display_data": {
              "value": "@pipeline().parameters.display_data",
              "type": "Expression"
            }
          },
          "waitOnCompletion": true
        },
        "policy": {
          "secureInput": false
        },
        "name": "Load_Capacity_Refreshables",
        "dependsOn": [
          {
            "activity": "Load_Active_Items",
            "dependencyConditions": [
              "Completed"
            ]
          }
        ]
      },
      {
        "type": "ExecutePipeline",
        "typeProperties": {
          "pipeline": {
            "referenceName": "289de339-50ca-9fc2-4903-387e3495d4f4",
            "type": "PipelineReference"
          },
          "parameters": {
            "metric_days_in_scope": {
              "value": "@pipeline().parameters.metric_days_in_scope",
              "type": "Expression"
            },
            "metric_workspace": {
              "value": "@pipeline().parameters.metric_workspace",
              "type": "Expression"
            },
            "metric_dataset": {
              "value": "@pipeline().parameters.metric_dataset",
              "type": "Expression"
            },
            "display_data": {
              "value": "@pipeline().parameters.display_data",
              "type": "Expression"
            }
          },
          "waitOnCompletion": true
        },
        "policy": {
          "secureInput": false
        },
        "name": "Load_Capacity_Metrics",
        "dependsOn": [
          {
            "activity": "Load_Workspaces",
            "dependencyConditions": [
              "Completed"
            ]
          },
          {
            "activity": "Load_Capacities",
            "dependencyConditions": [
              "Completed"
            ]
          }
        ]
      },
      {
        "type": "ExecutePipeline",
        "typeProperties": {
          "pipeline": {
            "referenceName": "43c738a6-4dc1-b247-41b0-9fcd4873a988",
            "type": "PipelineReference"
          },
          "parameters": {
            "has_tenant_domains": {
              "value": "@pipeline().parameters.has_tenant_domains",
              "type": "Expression"
            },
            "extract_powerbi_artifacts_only": {
              "value": "@pipeline().parameters.extract_powerbi_artifacts_only",
              "type": "Expression"
            },
            "display_data": {
              "value": "@pipeline().parameters.display_data",
              "type": "Expression"
            },
            "optional_keyvault_name": {
              "value": "@pipeline().parameters.optional_keyvault_name",
              "type": "Expression"
            },
            "optional_keyvault_sp_tenantId_secret_name": {
              "value": "@pipeline().parameters.optional_keyvault_sp_tenantId_secret_name",
              "type": "Expression"
            },
            "optional_keyvault_sp_clientId_secret_name": {
              "value": "@pipeline().parameters.optional_keyvault_sp_clientId_secret_name",
              "type": "Expression"
            },
            "optional_keyvault_sp_secret_secret_name": {
              "value": "@pipeline().parameters.optional_keyvault_sp_secret_secret_name",
              "type": "Expression"
            }
          },
          "waitOnCompletion": true
        },
        "policy": {
          "secureInput": false
        },
        "name": "Load_Inventory",
        "dependsOn": [
          {
            "activity": "Load_Capacity_Refreshables",
            "dependencyConditions": [
              "Completed"
            ]
          }
        ]
      },
      {
        "type": "ExecutePipeline",
        "typeProperties": {
          "pipeline": {
            "referenceName": "2d6fbde0-69f5-a64f-45cc-79902e044cdd",
            "type": "PipelineReference"
          },
          "parameters": {
            "display_data": {
              "value": "@pipeline().parameters.display_data",
              "type": "Expression"
            }
          },
          "waitOnCompletion": true
        },
        "policy": {
          "secureInput": false
        },
        "name": "Load_Tenant_Settings",
        "dependsOn": [
          {
            "activity": "Load_Activities",
            "dependencyConditions": [
              "Completed"
            ]
          }
        ]
      },
      {
        "type": "ExecutePipeline",
        "typeProperties": {
          "pipeline": {
            "referenceName": "cbd2331c-c37e-9d2d-4240-d48124dcdeee",
            "type": "PipelineReference"
          },
          "parameters": {
            "display_data": {
              "value": "@pipeline().parameters.display_data",
              "type": "Expression"
            }
          },
          "waitOnCompletion": true
        },
        "policy": {
          "secureInput": false
        },
        "name": "Load_Delegated_Tenant_Settings_Overrides",
        "dependsOn": [
          {
            "activity": "Load_Tenant_Settings",
            "dependencyConditions": [
              "Completed"
            ]
          }
        ]
      },
      {
        "type": "ExecutePipeline",
        "typeProperties": {
          "pipeline": {
            "referenceName": "1d384970-2f2f-bfc3-4749-cae7f7afd1af",
            "type": "PipelineReference"
          },
          "parameters": {
            "display_data": {
              "value": "@pipeline().parameters.display_data",
              "type": "Expression"
            }
          },
          "waitOnCompletion": true
        },
        "policy": {
          "secureInput": false
        },
        "name": "Load_Active_Items",
        "dependsOn": []
      },
      {
        "type": "TridentNotebook",
        "typeProperties": {
          "notebookId": "613762db-5bcc-9108-4495-9a72b0c9db25",
          "workspaceId": "00000000-0000-0000-0000-000000000000",
          "sessionTag": "fuam"
        },
        "policy": {
          "timeout": "0.12:00:00",
          "retry": 0,
          "retryIntervalInSeconds": 30,
          "secureInput": false,
          "secureOutput": false
        },
        "name": "Generate_Calendar_Table",
        "dependsOn": [
          {
            "activity": "Load_Active_Items",
            "dependencyConditions": [
              "Completed"
            ]
          }
        ]
      },
      {
        "type": "ExecutePipeline",
        "typeProperties": {
          "pipeline": {
            "referenceName": "01dd5d1e-f371-bcc2-4242-357d64cc545c",
            "type": "PipelineReference"
          },
          "parameters": {
            "display_data": {
              "value": "@pipeline().parameters.display_data",
              "type": "Expression"
            }
          },
          "waitOnCompletion": true
        },
        "policy": {
          "secureInput": false
        },
        "name": "Load_Git_Connections_E2E",
        "dependsOn": [
          {
            "activity": "Load_Delegated_Tenant_Settings_Overrides",
            "dependencyConditions": [
              "Completed"
            ]
          }
        ]
      },
      {
        "type": "TridentNotebook",
        "typeProperties": {
          "notebookId": "ad210091-efe7-876d-4235-1ddc2b85a7b8",
          "workspaceId": "00000000-0000-0000-0000-000000000000",
          "sessionTag": "fuam"
        },
        "policy": {
          "timeout": "0.12:00:00",
          "retry": 0,
          "retryIntervalInSeconds": 30,
          "secureInput": false,
          "secureOutput": false
        },
        "name": "Check_FUAM_Version",
        "dependsOn": [
          {
            "activity": "Load_Git_Connections_E2E",
            "dependencyConditions": [
              "Completed"
            ]
          }
        ]
      }
    ],
    "parameters": {
      "has_tenant_domains": {
        "type": "bool",
        "defaultValue": false
      },
      "extract_powerbi_artifacts_only": {
        "type": "bool",
        "defaultValue": false
      },
      "metric_days_in_scope": {
        "type": "int",
        "defaultValue": 2
      },
      "metric_workspace": {
        "type": "string",
        "defaultValue": "CHANGE HERE"
      },
      "metric_dataset": {
        "type": "string",
        "defaultValue": "CHANGE HERE"
      },
      "activity_days_in_scope": {
        "type": "int",
        "defaultValue": 2
      },
      "display_data": {
        "type": "bool",
        "defaultValue": false
      },
      "optional_keyvault_name": {
        "type": "string"
      },
      "optional_keyvault_sp_tenantId_secret_name": {
        "type": "string"
      },
      "optional_keyvault_sp_clientId_secret_name": {
        "type": "string"
      },
      "optional_keyvault_sp_secret_secret_name": {
        "type": "string"
      }
    }
  }
}